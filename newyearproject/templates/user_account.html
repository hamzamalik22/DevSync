{% extends "base.html" %} {% block content %}

<main class="settingsPage profile my-md">
  <div class="container">
    <div class="layout">
      <div class="column column--1of3">
        <div class="card text-center">
          <div class="card__body dev">
            <a
              style="color: white"
              class="tag tag--pill tag--main settings__btn"
              href="{% url 'edit-account' %}"
              ><i class="im im-edit"></i> Edit</a
            >
            <img
              class="avatar avatar--xl dev__avatar"
              src="{{ profile.profile_image.url }}"
            />
            <h2 class="dev__name">{{ profile.name }}</h2>
            <p class="dev__title">{{ profile.headline }}</p>
            <p class="dev__location">Based in {{ profile.location }}</p>
            <ul class="dev__social">
              <li>
                <a
                  title="Github"
                  href="{{ profile.social_github }}"
                  target="_blank"
                  ><i class="ri-github-fill"></i
                ></a>
              </li>
              <li>
                <a
                  title="Twitter"
                  href="{{ profile.social_twitter }}"
                  target="_blank"
                  ><i class="ri-twitter-x-fill"></i
                ></a>
              </li>
              <li>
                <a
                  title="LinkedIn"
                  href="{{ profile.social_linkedin }}"
                  target="_blank"
                  ><i class="ri-linkedin-fill"></i
                ></a>
              </li>
              <li>
                <a
                  title="Personal Website"
                  href="{{ profile.social_website }}"
                  target="_blank"
                  ><i class="ri-global-line"></i
                ></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="column column--2of3">
        <div class="devInfo">
          <h3 class="devInfo__title">About Me</h3>
          <p class="devInfo__about">{{ profile.bio }}</p>
        </div>
        <div class="settings">
          <h3 class="settings__title">Skills</h3>
          <a
            style="color: white"
            class="tag tag--pill tag--sub settings__btn tag--lg"
            href="{% url 'add-skill' %}"
            ><i class="im im-plus"></i> Add Skill</a
          >
        </div>

        <table class="settings__table">
          {% for skill in profile.skills_set.all %}
          <tr>
            <td class="settings__tableInfo">
              <h4 style="color: white">{{ skill.name }}</h4>
              <p style="color: #bfbfbf">{{ skill.description|slice:"120" }}</p>
            </td>
            <td class="settings__tableActions">
              <a
                style="color: white"
                class="tag tag--pill tag--main settings__btn"
                href="{% url 'edit-skill' skill.id %}"
                ><i class="im im-edit"></i> Edit</a
              >
              <a
                style="color: white"
                class="tag tag--pill tag--main settings__btn"
                href="{% url 'delete-skill' skill.id %}"
                ><i class="im im-x-mark-circle-o"></i> Delete</a
              >
            </td>
          </tr>
          {% endfor %}
        </table>

        <!-- Add Other Skills Section -->
        <div class="settings">
          <h3 class="settings__title">Other Skills</h3>
          <a
            style="color: white"
            class="tag tag--pill tag--sub settings__btn tag--lg"
            href="{% url 'add-other-skill' %}"
            ><i class="im im-plus"></i> Add Other Skill</a
          >
        </div>

        <table class="settings__table">
          {% for other_skill in profile.otherskill_set.all %}
          <tr>
            <td class="settings__tableInfo">
              <h4 style="color: white">{{ other_skill.skill_name }}</h4>
            </td>
            <td class="settings__tableActions">
              <a
                style="color: white"
                class="tag tag--pill tag--main settings__btn"
                href="{% url 'edit-other-skill' other_skill.id %}"
                ><i class="im im-edit"></i> Edit</a
              >
              <a
                style="color: white"
                class="tag tag--pill tag--main settings__btn"
                href="{% url 'delete-other-skill' other_skill.id %}"
                ><i class="im im-x-mark-circle-o"></i> Delete</a
              >
            </td>
          </tr>
          {% endfor %}
        </table>

        <div class="settings">
          <h3 class="settings__title">Projects</h3>
          <a
            style="color: white"
            class="tag tag--pill tag--sub settings__btn tag--lg"
            href="{% url 'create-project' %}"
            ><i class="im im-plus"></i> Add Project</a
          >
        </div>

        <table class="settings__table">
          {% for project in profile.project_set.all %}
          <tr>
            <td class="settings__thumbnail">
              <a href="{% url 'projectpage' project.id %}"
                ><img
                  src="{{ project.featured_image.url }}"
                  alt="Project Thumbnail"
              /></a>
            </td>
            <td class="settings__tableInfo">
              <a href="{% url 'projectpage' project.id %}" style="color: white"
                >{{ project.title }}</a
              >
              <p>{{ project.description|slice:150 }}</p>
            </td>
            <td class="settings__tableActions">
              <a
                style="color: white"
                class="tag tag--pill tag--main settings__btn"
                href="{% url 'update-project' project.id %}"
                ><i class="im im-edit"></i> Edit</a
              >
              <a
                style="color: white"
                class="tag tag--pill tag--main settings__btn"
                href="{% url 'delete-project' project.id %}"
                ><i class="im im-x-mark-circle-o"></i> Delete</a
              >
            </td>
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>
  </div>
</main>

{% endblock content %}
